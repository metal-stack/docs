<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Contribution Guideline · metal-stack</title><meta name="title" content="Contribution Guideline · metal-stack"/><meta property="og:title" content="Contribution Guideline · metal-stack"/><meta property="twitter:title" content="Contribution Guideline · metal-stack"/><meta name="description" content="Documentation for metal-stack."/><meta property="og:description" content="Documentation for metal-stack."/><meta property="twitter:description" content="Documentation for metal-stack."/><meta property="og:url" content="https://docs.metal-stack.io/developers/contribution-guideline/"/><meta property="twitter:url" content="https://docs.metal-stack.io/developers/contribution-guideline/"/><link rel="canonical" href="https://docs.metal-stack.io/developers/contribution-guideline/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../assets/youtube.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="metal-stack logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">metal-stack</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../getting-started/">Getting Started</a></li><li><span class="tocitem">Concepts</span><ul><li><a class="tocitem" href="../../concepts/why-metal-stack/">Why metal-stack</a></li><li><a class="tocitem" href="../../concepts/why-bare-metal/">Why Bare Metal</a></li><li><a class="tocitem" href="../../concepts/architecture/">Architecture</a></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Network</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../concepts/network/theory/">Theory</a></li><li><a class="tocitem" href="../../concepts/network/firewalls/">Firewalls</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">Kubernetes</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../concepts/kubernetes/cloud-controller-manager/">Cloud Controller Manager</a></li><li><a class="tocitem" href="../../concepts/kubernetes/firewall-controller-manager/">Firewall Controller Manager</a></li><li><a class="tocitem" href="../../concepts/kubernetes/gardener/">Gardener</a></li><li><a class="tocitem" href="../../concepts/kubernetes/isolated-clusters/">Isolated Cluster</a></li><li><a class="tocitem" href="../../concepts/kubernetes/gpu-workers/">GPU Workers</a></li><li><a class="tocitem" href="../../concepts/kubernetes/storage/">Storage</a></li></ul></li></ul></li><li><span class="tocitem">For Operators</span><ul><li><a class="tocitem" href="../../operators/hardware/">Supported Hardware</a></li><li><a class="tocitem" href="../../operators/operating-systems/">Operating Systems</a></li><li><a class="tocitem" href="../../operators/deployment-guide/">Deployment Guide</a></li><li><a class="tocitem" href="../../operators/maintenance/">Maintenance</a></li><li><a class="tocitem" href="../../operators/troubleshoot/">Troubleshoot</a></li></ul></li><li><span class="tocitem">For Users</span><ul><li><a class="tocitem" href="../../users/client-libraries/">Client Libraries</a></li></ul></li><li><span class="tocitem">For CISOs</span><ul><li><a class="tocitem" href="../../cisos/rbac/">RBAC</a></li></ul></li><li><span class="tocitem">For Developers</span><ul><li><a class="tocitem" href="../proposals/">Enhancement Proposals</a></li><li><a class="tocitem" href="../planning-meetings/">Planning Meetings</a></li><li class="is-active"><a class="tocitem" href>Contribution Guideline</a><ul class="internal"><li><a class="tocitem" href="#How-Can-I-Contribute?"><span>How Can I Contribute?</span></a></li><li><a class="tocitem" href="#General-Objectives"><span>General Objectives</span></a></li><li><a class="tocitem" href="#Guidelines"><span>Guidelines</span></a></li></ul></li><li><a class="tocitem" href="../release-flow/">Release Flow</a></li><li><a class="tocitem" href="../community/">Community</a></li></ul></li><li><span class="tocitem">References</span><ul><li><a class="tocitem" href="../../references/apidocs/">API</a></li><li><input class="collapse-toggle" id="menuitem-8-2" type="checkbox"/><label class="tocitem" for="menuitem-8-2"><span class="docs-label">Components</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../references/external/mini-lab/README/">mini-lab</a></li><li><a class="tocitem" href="../../references/external/metalctl/README/">metalctl</a></li><li><a class="tocitem" href="../../references/external/csi-driver-lvm/README/">csi-driver-lvm</a></li><li><a class="tocitem" href="../../references/external/firewall-controller/README/">firewall-controller</a></li><li><a class="tocitem" href="../../references/external/tailscale/README/">tailscale</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">For Developers</a></li><li class="is-active"><a href>Contribution Guideline</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Contribution Guideline</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/metal-stack/docs.git" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="github.com/metal-stack/docs.git" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Contribution-Guideline"><a class="docs-heading-anchor" href="#Contribution-Guideline">Contribution Guideline</a><a id="Contribution-Guideline-1"></a><a class="docs-heading-anchor-permalink" href="#Contribution-Guideline" title="Permalink"></a></h1><p>This document describes the way we want to contribute code to the projects of metal-stack, which are hosted on <a href="https://github.com/metal-stack">github.com/metal-stack</a>.</p><p>The document is meant to be understood as a general guideline for contributions, but not as burden to be placed on a developer. Use your best judgment when contributing code. Try to be as clean and precise as possible when writing code and try to make your code as maintainable and understandable as possible for other people.</p><p>Even if it should go without saying, we live an open culture of discussion, in which everybody is welcome to participate. We treat every contribution with respect and objectiveness with the general aim to write software of quality.</p><p>If you want, feel free to propose changes to this document in a pull request.</p><ul></ul><h2 id="How-Can-I-Contribute?"><a class="docs-heading-anchor" href="#How-Can-I-Contribute?">How Can I Contribute?</a><a id="How-Can-I-Contribute?-1"></a><a class="docs-heading-anchor-permalink" href="#How-Can-I-Contribute?" title="Permalink"></a></h2><p>Open a Github issue in the project you would like to contribute. Within the issue, your idea can be discussed. It is also possible to directly create a pull request when the set of changes is relatively small.</p><h3 id="Pull-Requests"><a class="docs-heading-anchor" href="#Pull-Requests">Pull Requests</a><a id="Pull-Requests-1"></a><a class="docs-heading-anchor-permalink" href="#Pull-Requests" title="Permalink"></a></h3><p>The process described here has several goals:</p><ul><li>Maintain quality</li><li>Enable a sustainable system to review contributions</li><li>Enable documented and reproducible addition of contributions</li></ul><ol><li>Create a meaningful issue describing the WHY? of your contribution</li><li>Create a repository fork within the context of that issue.</li><li>Create a Draft Pull Request to the master branch of the target repository.</li><li>Develop, document and test your contribution (try not to solve more than one issue in a single pull request)</li><li>Ask for merging your contribution by removing the draft marker</li><li>If code owners are defined, try to assign the request to a code owner</li></ol><h2 id="General-Objectives"><a class="docs-heading-anchor" href="#General-Objectives">General Objectives</a><a id="General-Objectives-1"></a><a class="docs-heading-anchor-permalink" href="#General-Objectives" title="Permalink"></a></h2><p>This section contains language-agnostic topics that all metal-stack projects are trying to follow.</p><h3 id="Code-Ownership"><a class="docs-heading-anchor" href="#Code-Ownership">Code Ownership</a><a id="Code-Ownership-1"></a><a class="docs-heading-anchor-permalink" href="#Code-Ownership" title="Permalink"></a></h3><p>The code base is owned by the entire team and every member is allowed to contribute changes to any of the projects. This is considered as collective code ownership<sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>.</p><p>As a matter of fact, there are persons in a project, which already have experience with the sources. These are defined directly in the repository&#39;s <a href="https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners">CODEOWNERS</a> file. If you want to merge changes into the master branch, it is advisable to include code owners into the process of discussion and merging.</p><h3 id="Microservices"><a class="docs-heading-anchor" href="#Microservices">Microservices</a><a id="Microservices-1"></a><a class="docs-heading-anchor-permalink" href="#Microservices" title="Permalink"></a></h3><p>One major ambition of metal-stack is to follow the idea of <a href="https://en.wikipedia.org/wiki/Microservices">microservices</a>. This way, we want to achieve that we can</p><ul><li>adapt to changes faster than with monolithic architectures,</li><li>be free of restrictions due to certain choices of technology,</li><li>leverage powerful traits of cloud infrastructures (e.g. high-scalability, high-availability, ...).</li></ul><h3 id="Programming-Languages"><a class="docs-heading-anchor" href="#Programming-Languages">Programming Languages</a><a id="Programming-Languages-1"></a><a class="docs-heading-anchor-permalink" href="#Programming-Languages" title="Permalink"></a></h3><p>We are generally open to write code in any language that fits best to the function of the software. However, we encourage <a href="https://en.wikipedia.org/wiki/Go_(programming_language)">golang</a> to be the main language of metal-stack as we think that it makes development faster when not establishing too many different languages in our architecture. Reason for this is that we are striving for consistent behavior of the microservices, similar to what has been described for the Twelve-Factor App (see <a href="https://12factor.net/">12 Factor</a>). We help enforcing unified behavior by allowing a small layer of shared code for every programming language. We will refer to this shared code as &quot;libraries&quot; for the rest of this document.</p><h3 id="Artifacts"><a class="docs-heading-anchor" href="#Artifacts">Artifacts</a><a id="Artifacts-1"></a><a class="docs-heading-anchor-permalink" href="#Artifacts" title="Permalink"></a></h3><p>Artifacts are always produced by a CI process (Github Actions).</p><p>Docker images are published on the Github Container Registry of the metal-stack organization.</p><p>Binary artifacts or OS images can be uploaded to <code>images.metal-stack.io</code> if necessary.</p><p>When building Docker images, please consider our build tool <a href="https://github.com/fi-ts/docker-make">docker-make</a> or the specific <a href="https://github.com/fi-ts/action-docker-make">docker-make action</a> respectively.</p><h3 id="APIs"><a class="docs-heading-anchor" href="#APIs">APIs</a><a id="APIs-1"></a><a class="docs-heading-anchor-permalink" href="#APIs" title="Permalink"></a></h3><p>We are currently making use of <a href="https://swagger.io/">Swagger</a> when we exposing traditional REST APIs for end-users. This helps us with being technology-agnostic as we can generate clients in almost any language using <a href="https://goswagger.io/">go-swagger</a>. Swagger additionally simplifies the documentation of our APIs.</p><p>Most APIs though are not required to be user-facing but are of technical nature. These are preferred to be implemented using <a href="https://grpc.io/">grpc</a>.</p><h4 id="Versioning"><a class="docs-heading-anchor" href="#Versioning">Versioning</a><a id="Versioning-1"></a><a class="docs-heading-anchor-permalink" href="#Versioning" title="Permalink"></a></h4><p>Artifacts are versioned by tagging the respective repository with a tag starting with the letter <code>v</code>. After the letter, there stands a valid <a href="https://semver.org/">semantic version</a>.</p><h3 id="Documentation"><a class="docs-heading-anchor" href="#Documentation">Documentation</a><a id="Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Documentation" title="Permalink"></a></h3><p>In order to make it easier for others to understand a project, we document general information and usage instructions in a <code>README.md</code> in any project.</p><p>In addition to that, we document a microservice in the <a href="https://github.com/metal-stack/docs">docs</a> repository. The documentation should contain the reasoning why this service exists and why it was being implemented the way it was being implemented. The aim of this procedure is to reduce the time for contributors to comprehend architectural decisions that were made during the process of writing the software and to clarify the general purpose of this service in the entire context of the software.</p><h2 id="Guidelines"><a class="docs-heading-anchor" href="#Guidelines">Guidelines</a><a id="Guidelines-1"></a><a class="docs-heading-anchor-permalink" href="#Guidelines" title="Permalink"></a></h2><p>This chapter describes general guidelines on how to develop and contribute code for a certain programming language.</p><h3 id="Golang"><a class="docs-heading-anchor" href="#Golang">Golang</a><a id="Golang-1"></a><a class="docs-heading-anchor-permalink" href="#Golang" title="Permalink"></a></h3><p>Development follows the official guide to:</p><ul><li>Write clear, idiomatic Go code<sup class="footnote-reference"><a id="citeref-2" href="#footnote-2">[2]</a></sup></li><li>Learn from mistakes that must not be repeated<sup class="footnote-reference"><a id="citeref-3" href="#footnote-3">[3]</a></sup></li><li>Apply appropriate names to your artifacts:<ul><li><a href="https://go.dev/talks/2014/names.slide">https://go.dev/talks/2014/names.slide</a></li><li><a href="https://go.dev/blog/package-names">https://go.dev/blog/package-names</a></li><li><a href="https://go.dev/doc/effective_go#names">https://go.dev/doc/effective_go#names</a></li></ul></li><li>Enable others to understand the reasoning of non-trivial code sequences by applying a meaningful documentation.</li></ul><h4 id="Development-Decisions"><a class="docs-heading-anchor" href="#Development-Decisions">Development Decisions</a><a id="Development-Decisions-1"></a><a class="docs-heading-anchor-permalink" href="#Development-Decisions" title="Permalink"></a></h4><ul><li><strong>Dependency Management</strong> by using Go modules</li><li><strong>Build and Test Automation</strong> by using <a href="https://man7.org/linux/man-pages/man1/make.1p.html">GNU Make</a>.</li><li><strong>End-user APIs</strong> should consider using go-swagger and <a href="https://github.com/emicklei/go-restful">Go-Restful</a> <strong>Technical APIs</strong> should consider using <a href="https://grpc.io/">grpc</a></li></ul><h4 id="Libraries"><a class="docs-heading-anchor" href="#Libraries">Libraries</a><a id="Libraries-1"></a><a class="docs-heading-anchor-permalink" href="#Libraries" title="Permalink"></a></h4><p>metal-stack maintains several libraries that you should utilize in your project in order unify common behavior. Some of these projects are:</p><ul><li><a href="https://github.com/metal-stack/metal-go">metal-go</a></li><li><a href="https://github.com/metal-stack/metal-lib">metal-lib</a></li></ul><h4 id="Error-Handling-with-Generated-Swagger-Clients"><a class="docs-heading-anchor" href="#Error-Handling-with-Generated-Swagger-Clients">Error Handling with Generated Swagger Clients</a><a id="Error-Handling-with-Generated-Swagger-Clients-1"></a><a class="docs-heading-anchor-permalink" href="#Error-Handling-with-Generated-Swagger-Clients" title="Permalink"></a></h4><p>From the server-side you should ensure that you are returning the common error json struct in case of an error as defined in the <code>metal-lib/httperrors</code>. Ensure you are using <code>go-restful &gt;= v2.9.1</code> and <code>go-restful-openapi &gt;= v0.13.1</code> (allows default responses with error codes other than 200).</p><h3 id="Documentation-2"><a class="docs-heading-anchor" href="#Documentation-2">Documentation</a><a class="docs-heading-anchor-permalink" href="#Documentation-2" title="Permalink"></a></h3><p>We want to share knowledge and keep things simple. If things cannot kept simple we want enable everybody to understand them by:</p><ul><li>Document in short sentences<sup class="footnote-reference"><a id="citeref-4" href="#footnote-4">[4]</a></sup>.</li><li>Do not explain the HOW (this is already documented by your code and documenting the obvious is considered a defect).</li><li>Explain the WHY. Add a &quot;to&quot; in your documentation line to force yourself to explain the reasonning (e.g.  &quot;<code>&lt;THE WHAT&gt; to &lt;THE TO&gt;</code>&quot;).</li></ul><h3 id="Python"><a class="docs-heading-anchor" href="#Python">Python</a><a id="Python-1"></a><a class="docs-heading-anchor-permalink" href="#Python" title="Permalink"></a></h3><p>Development follows the official guide to:</p><ul><li>Style Guide for Python Code (PEP 8)<sup class="footnote-reference"><a id="citeref-5" href="#footnote-5">[5]</a></sup><ul><li>The use of an IDE like <a href="https://www.jetbrains.com/pycharm/">PyCharm</a> helps to write compliant code easily</li></ul></li><li>Consider <a href="https://pythonhosted.org/an_example_pypi_project/setuptools.html">setuptools</a> for packaging</li><li>If you want to add a Python microservice to the mix, consider <a href="https://github.com/pyinstaller/pyinstaller">pyinstaller</a> on Alpine to achieve small image sizes</li></ul><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a><a href="https://martinfowler.com/bliki/CodeOwnership.html">https://martinfowler.com/bliki/CodeOwnership.html</a></li><li class="footnote" id="footnote-2"><a class="tag is-link" href="#citeref-2">2</a><a href="https://go.dev/doc/effective_go">https://go.dev/doc/effective_go</a></li><li class="footnote" id="footnote-3"><a class="tag is-link" href="#citeref-3">3</a><a href="https://github.com/golang/go/wiki/CodeReviewComments">https://github.com/golang/go/wiki/CodeReviewComments</a></li><li class="footnote" id="footnote-4"><a class="tag is-link" href="#citeref-4">4</a><a href="https://github.com/golang/go/wiki/CodeReviewComments#comment-sentences">https://github.com/golang/go/wiki/CodeReviewComments#comment-sentences</a></li><li class="footnote" id="footnote-5"><a class="tag is-link" href="#citeref-5">5</a><a href="https://www.python.org/dev/peps/pep-0008/">https://www.python.org/dev/peps/pep-0008/</a></li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../planning-meetings/">« Planning Meetings</a><a class="docs-footer-nextpage" href="../release-flow/">Release Flow »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Friday 4 July 2025 06:06">Friday 4 July 2025</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
